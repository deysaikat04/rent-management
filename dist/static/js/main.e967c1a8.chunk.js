(this.webpackJsonprentkhata=this.webpackJsonprentkhata||[]).push([[0],{339:function(e,t,a){},526:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),c=a.n(i),s=(a(339),a(16)),o=a(308),l=a(19),d=a(303),j=a(306),b=a(601),h=a(30),u=a(31),m=a(34),p=a(33),g=a(4),O=a(6),x=a(569),f=a(602),v=a(88),y=a(599),C=a(580),A=a(207),N=a(598),P=a(600),T=a(204),S=a.n(T),D=a(609),w=a(301),I=a.n(w),_=a(587),E=a(72),k=a(62),R=a(44),U=a(22),B=a(575),M=a(572),F=a(573),W=a(574),Y=a(292),H=a.n(Y),G=a(294),L=a.n(G),K=a(577),z=a(531),q=a(578),J=a(579),V=a(295),Z=a.n(V),X=a(296),$=a.n(X),Q=a(293),ee=a.n(Q),te=a(146),ae=a.n(te),ne=a(3),re=180,ie=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e.handleDrawerOpen=function(){e.setState({open:!0})},e.handleDrawerClose=function(){e.setState({open:!1})},e.handleLogout=function(){ae.a.remove("userid",{path:"/"}),window.location.reload()},e}return Object(u.a)(a,[{key:"render",value:function(){var e,t,a=this.props,n=a.classes,r=a.authed,i=this.state.open;return Object(ne.jsxs)("div",{className:n.root,children:[Object(ne.jsx)(x.a,{}),Object(ne.jsx)(M.a,{position:"absolute",className:Object(g.a)(n.appBar,i&&n.appBarShift),children:Object(ne.jsxs)(F.a,{className:n.toolbar,children:[Object(ne.jsx)(W.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:this.handleDrawerOpen,className:Object(g.a)(n.menuButton,i&&n.menuButtonHidden),children:Object(ne.jsx)(H.a,{})}),Object(ne.jsx)(v.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:n.title,children:i?"":"RentKhata"}),r&&Object(ne.jsx)("div",{className:n.menuButton,children:Object(ne.jsx)(W.a,{"aria-label":"Log out","aria-controls":"menu-appbar",onClick:this.handleLogout,color:"inherit",children:Object(ne.jsx)(ee.a,{})})})]})}),Object(ne.jsxs)(B.a,{className:Object(g.a)(n.drawer,(e={},Object(U.a)(e,n.drawerOpen,i),Object(U.a)(e,n.drawerClose,!i),e)),classes:{paper:Object(g.a)((t={},Object(U.a)(t,n.drawerOpen,i),Object(U.a)(t,n.drawerClose,!i),t))},open:i,children:[Object(ne.jsx)("div",{className:n.toolbarIcon,children:Object(ne.jsx)(W.a,{onClick:this.handleDrawerClose,children:Object(ne.jsx)(L.a,{})})}),Object(ne.jsx)(K.a,{children:["Inbox","Starred","Send email","Drafts"].map((function(e,t){return Object(ne.jsxs)(z.a,{button:!0,children:[Object(ne.jsx)(q.a,{children:t%2===0?Object(ne.jsx)(Z.a,{}):Object(ne.jsx)($.a,{})}),Object(ne.jsx)(J.a,{primary:e})]},e)}))})]})]})}}]),a}(n.Component),ce=Object(O.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(s.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:re,width:"calc(100% - ".concat(re,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawer:{width:re,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:re,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(U.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),appBarSpacer:e.mixins.toolbar,paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}),{withTheme:!0})(ie),se=a(588),oe=a(590),le=a(589),de=a(530),je=a(297),be=a.n(je),he=a(59),ue=a.n(he),me=a(307),pe=a(612),ge=a(586),Oe=a(585),xe=a(603),fe=a(581),ve=a(608),ye=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleTenantSelectChange=function(e){n.setState({tenantName:e.target.value})},n.isEmpty=function(e){return 0===Object.keys(e).length},n.setTenantId=function(e){var t=n.props.tenants.filter((function(t){return t.id===e}))[0],a=[],r=0;if(t.payments)for(var i in t.payments)a.push(t.payments[i]);r=n.isEmpty(t.payments)?t.startingUnit:t.payments[0].currentUnit,n.setState({tenantId:e,form:Object(s.a)(Object(s.a)({},n.state.form),{},{rentAmount:t.rentAmount,prevUnit:r}),chargePerUnit:t.chargePerUnit,startingUnit:r,prevPayments:a})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState({form:Object(s.a)(Object(s.a)({},n.state.form),{},Object(U.a)({},a,r))})},n.handleSubmit=function(e){e.preventDefault();var t=[Object(s.a)({},n.state.form)].concat(Object(me.a)(n.state.prevPayments));n.props.addPayment(t,n.state.tenantId),n.props.handleDialogClose()},n.handleUnitChange=function(e){var t,a=e.target,r=a.name,i=a.value,c=n.state,o=i-c.startingUnit,l=o*c.chargePerUnit,d=l+n.state.form.rentAmount;n.setState({form:Object(s.a)(Object(s.a)({},n.state.form),{},(t={},Object(U.a)(t,r,Number(i)),Object(U.a)(t,"unitConsumed",o),Object(U.a)(t,"electricBill",l),Object(U.a)(t,"total",d),t))})},n.state={form:{monthName:ue()(ue()(),"M").format("MMMM"),year:ue()().year(),rentAmount:0,prevUnit:0,currentUnit:0,unitConsumed:0,electricBill:0,total:0},tenantName:"",tenantId:"",startingUnit:0,chargePerUnit:0,prevPayments:[]},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.tenantName,n=t.startingUnit,r=t.chargePerUnit,i=this.state.form,c=i.currentUnit,s=i.rentAmount,o=i.total,l=i.unitConsumed,d=i.electricBill,j=this.props,b=j.classes,h=(j.payment,j.tenants),u=j.handleDialogClose;return Object(ne.jsx)("form",{onSubmit:this.handleSubmit,children:Object(ne.jsxs)(C.a,{container:!0,spacing:2,children:[Object(ne.jsx)(C.a,{item:!0,xs:12,md:6,lg:6,children:Object(ne.jsxs)(fe.a,{className:b.formControl,children:[Object(ne.jsx)(ve.a,{id:"demo-simple-select-label",children:"Tenant"}),Object(ne.jsx)(xe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",color:"secondary",value:a,onChange:this.handleTenantSelectChange,children:h&&h.map((function(t){return Object(ne.jsx)(Oe.a,{value:t.name,onClick:function(){return e.setTenantId(t.id)},children:t.name},t.id)}))})]})}),Object(ne.jsx)(C.a,{item:!0,xs:12,md:6,lg:6,children:Object(ne.jsx)(pe.a,{autoFocus:!0,type:"number",color:"secondary",variant:"standard",margin:"dense",id:"amount",name:"rentAmount",label:"Amount",value:s,fullWidth:!0,readOnly:!0,InputProps:{startAdornment:Object(ne.jsx)(ge.a,{position:"start",children:"\u20b9"})}})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsx)(pe.a,{type:"number",color:"secondary",variant:"standard",margin:"dense",id:"prevUnit",name:"prevUnit",label:"Previous Unit*",value:n,fullWidth:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsx)(pe.a,{type:"number",color:"secondary",variant:"standard",margin:"dense",id:"currentUnit",name:"currentUnit",label:"Current Unit",value:c,onChange:this.handleUnitChange,fullWidth:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsx)(pe.a,{color:"secondary",variant:"standard",margin:"dense",id:"unitConsumed",name:"unitConsumed",label:"Unit Consumed",value:l,helperText:"x ".concat(r),fullWidth:!0,readOnly:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsx)(pe.a,{color:"secondary",variant:"standard",margin:"dense",id:"electricBill",name:"electricBill",label:"Electric Bill",value:d,InputProps:{startAdornment:Object(ne.jsx)(ge.a,{position:"start",children:"\u20b9"})},fullWidth:!0,readOnly:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsxs)(v.a,{variant:"h6",children:["Total: \u20b9",o,"  "]})}),Object(ne.jsx)(C.a,{item:!0,xs:12,md:12,lg:12,children:Object(ne.jsxs)("div",{className:b.button,children:[Object(ne.jsx)(_.a,{type:"submit",variant:"contained",color:"secondary",className:b.buttonSave,size:"small",children:"Save"}),Object(ne.jsx)(_.a,{variant:"outlined",color:"secondary",size:"small",onClick:function(){return u()},children:"Cancel"})]})})]})})}}]),a}(n.Component),Ce=Object(O.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},button:{float:"right",margin:e.spacing(2,0)},buttonSave:{marginRight:e.spacing(1)},formControl:{width:"100%"}}}),{withTheme:!0})(Object(R.d)(Object(E.b)((function(e){return{payment:e.firestore.ordered.payment,tenants:e.firestore.ordered.tenants}}),(function(e){return{addPayment:function(t,a){return e(function(e,t){return function(a,n,r){r.getFirebase,(0,r.getFirestore)().collection("tenants").doc(t).update({payments:Object(s.a)({},e),toc:new Date}).then((function(){a({type:"ADD_PAYMENT",payment:e})})).catch((function(e){a({type:"ADD_PAYMENT_ERROR",err:e})}))}}(t,a))}}})),Object(k.firestoreConnect)([{collection:"payment"},{collection:"tenants"}]))(ye)),Ae=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,r=t.value,i=t.type;n.setState({form:Object(s.a)(Object(s.a)({},n.state.form),{},Object(U.a)({},a,"number"===i?parseInt(r):"date"===i?ue()(r).format("DD-MMMM-YYYY"):r))})},n.handleMobileChange=function(e){var t=e.target,a=t.name,r=t.value;r.toString().length<=10&&n.setState({form:Object(s.a)(Object(s.a)({},n.state.form),{},Object(U.a)({},a,r))})},n.handleAdhaarChange=function(e){var t=e.target,a=t.name,r=t.value.replace(/\W/gi,"").replace(/(.{4})/g,"$1 ");n.setState({form:Object(s.a)(Object(s.a)({},n.state.form),{},Object(U.a)({},a,r))})},n.handleSubmit=function(e){e.preventDefault();var t=ue()().add(n.state.form.tenure,"months").format("DD-MMMM-YYYY").toString();n.setState({form:Object(s.a)(Object(s.a)({},n.state.form),{},{toDate:t})},(function(){n.props.handleDialogClose(),n.props.addTenant(n.state.form)}))},n.state={form:{name:"",address:"",adhaarNo:"",mobileNo:"",mobileNoSecond:"",fromDate:"",tenure:"",toDate:"",rentAmount:"",chargePerUnit:"",startingUnit:"",advancedAmount:"",payments:{}}},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.handleDialogClose,n=this.state.form,r=n.name,i=n.address,c=n.adhaarNo,s=n.fromDate,o=n.tenure,l=n.rentAmount,d=n.chargePerUnit,j=n.startingUnit,b=n.advancedAmount,h=n.mobileNoSecond,u=n.mobileNo;return Object(ne.jsx)("form",{onSubmit:this.handleSubmit,children:Object(ne.jsxs)(C.a,{container:!0,spacing:2,children:[Object(ne.jsx)(C.a,{item:!0,xs:12,md:6,lg:6,children:Object(ne.jsx)(pe.a,{autoFocus:!0,color:"secondary",variant:"standard",margin:"dense",id:"name",name:"name",label:"Name",value:r,onChange:this.handleChange,fullWidth:!0,required:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:12,md:6,lg:6,children:Object(ne.jsx)(pe.a,{color:"secondary",variant:"standard",margin:"dense",id:"adhaarNo",name:"adhaarNo",label:"Adhaar No.",value:c,onChange:this.handleAdhaarChange,fullWidth:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:12,md:12,lg:12,children:Object(ne.jsx)(pe.a,{color:"secondary",variant:"standard",margin:"dense",id:"address",name:"address",label:"Address",value:i,onChange:this.handleChange,fullWidth:!0,multiline:!0,rows:2})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsx)(pe.a,{type:"number",color:"secondary",variant:"standard",margin:"dense",id:"mobileNo",name:"mobileNo",label:"Mobile No",value:u,onChange:this.handleMobileChange,InputProps:{startAdornment:Object(ne.jsx)(ge.a,{position:"start",children:"+91"})},required:!0,fullWidth:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsx)(pe.a,{type:"number",color:"secondary",variant:"standard",margin:"dense",id:"mobileNoSecond",name:"mobileNoSecond",label:"Mobile No #2",value:h,onChange:this.handleMobileChange,InputProps:{startAdornment:Object(ne.jsx)(ge.a,{position:"start",children:"+91"})},fullWidth:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsx)(pe.a,{type:"date",color:"secondary",variant:"standard",margin:"dense",id:"fromDate",name:"fromDate",label:"From Date",value:s,onChange:this.handleChange,InputLabelProps:{shrink:!0},fullWidth:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsx)(pe.a,{type:"number",color:"secondary",variant:"standard",margin:"dense",id:"tenure",name:"tenure",label:"Tenure",value:o,onChange:this.handleChange,InputLabelProps:{shrink:!0},helperText:s&&o?"Contract end date ".concat(ue()().add(o,"months").format("DD-MMMM-YYYY")):"Please enter the duration to get Contract end date",fullWidth:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsx)(pe.a,{type:"number",color:"secondary",variant:"standard",margin:"dense",id:"advancedAmount",name:"advancedAmount",label:"Advance amount",value:b,onChange:this.handleChange,InputProps:{startAdornment:Object(ne.jsx)(ge.a,{position:"start",children:"\u20b9"})},fullWidth:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsx)(pe.a,{type:"number",color:"secondary",variant:"standard",margin:"dense",id:"rentAmount",name:"rentAmount",label:"Rent per month",value:l,onChange:this.handleChange,InputProps:{startAdornment:Object(ne.jsx)(ge.a,{position:"start",children:"\u20b9"})},fullWidth:!0,readOnly:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsx)(pe.a,{type:"number",color:"secondary",variant:"standard",margin:"dense",id:"startingUnit",name:"startingUnit",label:"Starting unit",value:j,onChange:this.handleChange,fullWidth:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:6,md:6,lg:6,children:Object(ne.jsx)(pe.a,{type:"number",color:"secondary",variant:"standard",margin:"dense",id:"chargePerUnit",name:"chargePerUnit",label:"Charge per unit",value:d,onChange:this.handleChange,InputProps:{startAdornment:Object(ne.jsx)(ge.a,{position:"start",children:"\u20b9"})},fullWidth:!0,readOnly:!0})}),Object(ne.jsx)(C.a,{item:!0,xs:12,md:12,lg:12,children:Object(ne.jsxs)("div",{className:t.button,children:[Object(ne.jsx)(_.a,{variant:"contained",color:"secondary",className:t.buttonSave,size:"small",type:"submit",children:"Save"}),Object(ne.jsx)(_.a,{variant:"outlined",color:"secondary",size:"small",onClick:function(){return a()},children:"Cancel"})]})})]})})}}]),a}(n.Component),Ne=Object(O.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},button:{float:"right",margin:e.spacing(2,0)},buttonSave:{marginRight:e.spacing(1)}}}),{withTheme:!0})(Object(E.b)(null,(function(e){return{addTenant:function(t){return e((a=t,function(e,t,n){n.getFirebase;var r=(0,n.getFirestore)();t().firebase.profile,r.collection("tenants").add(Object(s.a)(Object(s.a)({},a),{},{toc:new Date})).then((function(){e({type:"ADD_TENANT",tenant:a})})).catch((function(t){e({type:"ADD_TENANT_ERROR",err:t})}))}));var a}}}))(Ae)),Pe=r.a.forwardRef((function(e,t){return Object(ne.jsx)(de.a,Object(s.a)({direction:"up",ref:t},e))})),Te=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.title,n=e.openDialog,r=e.handleDialogClose,i=e.dialogType;return Object(ne.jsxs)(se.a,{open:n,TransitionComponent:Pe,keepMounted:!0,onClose:r,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(ne.jsxs)(le.a,{id:"alert-dialog-title",children:[a,Object(ne.jsx)(v.a,{variant:"body2",children:ue()().format("DD-MMMM-YYYY").toString()}),Object(ne.jsx)(W.a,{"aria-label":"close",className:t.closeButton,onClick:r,children:Object(ne.jsx)(be.a,{})})]}),Object(ne.jsx)(oe.a,{children:"payment"===i?Object(ne.jsx)(Ce,{handleDialogClose:r}):Object(ne.jsx)(Ne,{handleDialogClose:r})})]})}}]),a}(n.Component),Se=Object(O.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),{withTheme:!0})(Te),De=a(101),we=a(594),Ie=a(10),_e=a(596),Ee=a(597),ke=a(593),Re=a(595),Ue=a(591),Be=a(605),Me=a(592),Fe=a(606),We=a(604),Ye=a(611),He=a(299),Ge=a.n(He),Le=a(300),Ke=a.n(Le);function ze(e,t,a,n,r){return{name:e,calories:t,fat:a,carbs:n,protein:r}}var qe=[ze("Cupcake",305,3.7,67,4.3),ze("Donut",452,25,51,4.9),ze("Eclair",262,16,24,6),ze("Frozen yoghurt",159,6,24,4),ze("Gingerbread",356,16,49,3.9),ze("Honeycomb",408,3.2,87,6.5),ze("Ice cream sandwich",237,9,37,4.3),ze("Jelly Bean",375,0,94,0),ze("KitKat",518,26,65,7),ze("Lollipop",392,.2,98,0),ze("Marshmallow",318,0,81,2),ze("Nougat",360,19,9,37),ze("Oreo",437,18,63,4)];function Je(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function Ve(e,t){return"desc"===e?function(e,a){return Je(e,a,t)}:function(e,a){return-Je(e,a,t)}}function Ze(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}var Xe=[{id:"monthName",numeric:!1,disablePadding:!0,label:"Month"},{id:"prevUnit",numeric:!0,disablePadding:!1,label:"Previous Unit"},{id:"currentUnit",numeric:!0,disablePadding:!1,label:"Current Unit"},{id:"unitConsumed",numeric:!0,disablePadding:!1,label:"Unit Consumed"},{id:"electricBill",numeric:!0,disablePadding:!1,label:"Electric Bill"},{id:"rentAmount",numeric:!0,disablePadding:!1,label:"Rent"},{id:"total",numeric:!0,disablePadding:!1,label:"Total (\u20b9)"}];function $e(e){var t=e.classes,a=(e.onSelectAllClick,e.order),n=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return Object(ne.jsx)(Ue.a,{children:Object(ne.jsxs)(Me.a,{children:[Object(ne.jsx)(ke.a,{padding:"checkbox"}),Xe.map((function(e){return Object(ne.jsx)(ke.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:n===e.id&&a,children:Object(ne.jsxs)(Fe.a,{active:n===e.id,direction:n===e.id?a:"asc",onClick:(i=e.id,function(e){r(e,i)}),children:[e.label,n===e.id?Object(ne.jsx)("span",{className:t.visuallyHidden,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var i}))]})})}var Qe=Object(we.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(Ie.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),et=function(e){var t=Qe(),a=e.numSelected;return Object(ne.jsxs)(F.a,{className:Object(g.a)(t.root,Object(U.a)({},t.highlight,a>0)),children:[a>0?Object(ne.jsxs)(v.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[a," selected"]}):Object(ne.jsx)(v.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Payments"}),a>0?Object(ne.jsx)(Ye.a,{title:"Delete",children:Object(ne.jsx)(W.a,{"aria-label":"delete",children:Object(ne.jsx)(Ge.a,{})})}):Object(ne.jsx)(Ye.a,{title:"Filter list",children:Object(ne.jsx)(W.a,{"aria-label":"filter list",children:Object(ne.jsx)(Ke.a,{})})})]})},tt=Object(we.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function at(e){var t=tt(),a=e.payment,n=e.handleSelectedPayment,i=r.a.useState("asc"),c=Object(De.a)(i,2),s=c[0],o=c[1],l=r.a.useState("calories"),d=Object(De.a)(l,2),j=d[0],b=d[1],h=r.a.useState([]),u=Object(De.a)(h,2),m=u[0],p=u[1],g=r.a.useState(0),O=Object(De.a)(g,2),x=O[0],f=O[1],v=r.a.useState(5),y=Object(De.a)(v,2),C=y[0],N=y[1],P=C-Math.min(C,(a?a.length:0)-x*C);return Object(ne.jsx)("div",{className:t.root,children:Object(ne.jsxs)(A.a,{className:t.paper,children:[Object(ne.jsx)(et,{numSelected:m.length}),Object(ne.jsx)(Re.a,{children:Object(ne.jsxs)(_e.a,{className:t.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",children:[Object(ne.jsx)($e,{classes:t,numSelected:m.length,order:s,orderBy:j,onSelectAllClick:function(e){if(e.target.checked){var t=a?a.map((function(e){return e.name})):"";p(t)}else p([])},onRequestSort:function(e,t){o(j===t&&"asc"===s?"desc":"asc"),b(t)},rowCount:qe.length}),Object(ne.jsxs)(Ee.a,{children:[a&&Ze(a,Ve(s,j)).slice(x*C,x*C+C).map((function(e,t){var a,r=(a=e.id,-1!==m.indexOf(a)),i="enhanced-table-checkbox-".concat(t);return Object(ne.jsxs)(Me.a,{hover:!0,onClick:function(t){return function(e,t){n(t);var a=m.indexOf(t),r=[];-1===a?r=r.concat(m,t):0===a?r=r.concat(m.slice(1)):a===m.length-1?r=r.concat(m.slice(0,-1)):a>0&&(r=r.concat(m.slice(0,a),m.slice(a+1))),p(r)}(0,e.id)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(ne.jsx)(ke.a,{padding:"checkbox",children:Object(ne.jsx)(We.a,{checked:r,inputProps:{"aria-labelledby":i}})}),Object(ne.jsx)(ke.a,{component:"th",id:i,scope:"row",padding:"none",children:e.monthName}),Object(ne.jsx)(ke.a,{align:"right",children:e.prevUnit}),Object(ne.jsx)(ke.a,{align:"right",children:e.currentUnit}),Object(ne.jsx)(ke.a,{align:"right",children:e.unitConsumed}),Object(ne.jsx)(ke.a,{align:"right",children:e.electricBill}),Object(ne.jsx)(ke.a,{align:"right",children:e.rentAmount}),Object(ne.jsx)(ke.a,{align:"right",children:e.total})]},e.id)})),P>0&&Object(ne.jsx)(Me.a,{style:{height:53*P},children:Object(ne.jsx)(ke.a,{colSpan:6})})]})]})}),Object(ne.jsx)(Be.a,{rowsPerPageOptions:[5,10,25],component:"div",count:a?a.length:1,rowsPerPage:C,page:x,onChangePage:function(e,t){f(t)},onChangeRowsPerPage:function(e){N(parseInt(e.target.value,10)),f(0)}})]})})}var nt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={paymentArray:[]},e.handleSelectedPayment=function(e){console.log(e)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.selectedTenant,n=e.paymentArray;Object(g.a)(t.paper,t.fixedHeight);return Object(ne.jsxs)(C.a,{container:!0,spacing:3,children:[Object(ne.jsx)(C.a,{item:!0,xs:12,md:12,lg:12,children:Object(ne.jsx)(A.a,{className:t.paper,children:Object(ne.jsxs)(C.a,{container:!0,spacing:3,children:[Object(ne.jsxs)(C.a,{item:!0,xs:12,md:4,lg:4,children:[Object(ne.jsxs)("div",{children:[Object(ne.jsx)(v.a,{variant:"body2",className:Object(g.a)(t.dInline,t.subheader),children:"Name"}),Object(ne.jsx)(v.a,{variant:"body1",className:t.dInline,children:a.name})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(v.a,{variant:"body2",className:Object(g.a)(t.dInline,t.subheader),children:"Address"}),Object(ne.jsx)(v.a,{variant:"body1",className:t.dInline,children:a.address})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(v.a,{variant:"body2",className:Object(g.a)(t.dInline,t.subheader),children:"Adhaar No"}),Object(ne.jsx)(v.a,{variant:"body1",className:t.dInline,children:a.adhaarNo})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(v.a,{variant:"body2",className:Object(g.a)(t.dInline,t.subheader),children:"Starting date"}),Object(ne.jsx)(v.a,{variant:"body1",className:t.dInline,children:a.fromDate})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(v.a,{variant:"body2",className:Object(g.a)(t.dInline,t.subheader),children:"Ending date"}),Object(ne.jsx)(v.a,{variant:"body1",className:t.dInline,children:a.toDate})]})]}),Object(ne.jsxs)(C.a,{item:!0,xs:12,md:4,lg:4,children:[Object(ne.jsxs)("div",{children:[Object(ne.jsx)(v.a,{variant:"body2",className:Object(g.a)(t.dInline,t.subheader),children:"Advanced"}),Object(ne.jsxs)(v.a,{variant:"body1",className:t.dInline,children:["\u20b9",a.advancedAmount]})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(v.a,{variant:"body2",className:Object(g.a)(t.dInline,t.subheader),children:"Rent"}),Object(ne.jsxs)(v.a,{variant:"body1",className:t.dInline,children:["\u20b9",a.rentAmount]})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(v.a,{variant:"body2",className:Object(g.a)(t.dInline,t.subheader),children:"Per unit charge"}),Object(ne.jsxs)(v.a,{variant:"body1",className:t.dInline,children:["\u20b9",a.chargePerUnit]})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(v.a,{variant:"body2",className:Object(g.a)(t.dInline,t.subheader),children:"Starting unit"}),Object(ne.jsx)(v.a,{variant:"body1",className:t.dInline,children:a.startingUnit})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(v.a,{variant:"body2",className:Object(g.a)(t.dInline,t.subheader),children:"Latest unit"}),Object(ne.jsx)(v.a,{variant:"body1",className:t.dInline,children:a.payments[0]?a.payments[0].currentUnit:0})]})]}),Object(ne.jsxs)(C.a,{item:!0,xs:12,md:4,lg:4,children:[Object(ne.jsxs)("div",{children:[Object(ne.jsx)(v.a,{variant:"body2",className:Object(g.a)(t.dInline,t.subheader),children:"Total Rent received"}),Object(ne.jsx)(v.a,{variant:"body1",className:t.dInline,children:"\u20b9"})]}),Object(ne.jsxs)("div",{children:[Object(ne.jsx)(v.a,{variant:"body2",className:Object(g.a)(t.dInline,t.subheader),children:"Last Payment"}),Object(ne.jsx)(v.a,{variant:"body1",className:t.dInline})]})]})]})})}),Object(ne.jsx)(C.a,{item:!0,xs:12,md:12,lg:12,children:Object(ne.jsx)(at,{payment:n,handleSelectedPayment:this.handleSelectedPayment})})]})}}]),a}(n.Component),rt=Object(O.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,height:"100vh",overflow:"auto"},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},dInline:{display:"inline-block",marginRight:e.spacing(1)},subheader:{color:"#7b7b7b"}}}),{withTheme:!0})(nt);function it(){return Object(ne.jsxs)(v.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(ne.jsx)(N.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var ct=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={open:!1,openDialog:!1,dialogType:"",selectedTenant:{},showTenantHistory:!1,paymentArray:[]},e.handleDialogOpen=function(t){e.setState({openDialog:!0,dialogType:t})},e.handleDialogClose=function(){e.setState({openDialog:!1,dialogType:""})},e.showTenant=function(t){var a=[],n=e.props.tenants.filter((function(e){return e.id===t}))[0];for(var r in n.payments)a.push(n.payments[r]);e.setState({selectedTenant:n,showTenantHistory:!0,paymentArray:a})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.authed,r=t.tenants,i=this.state,c=i.openDialog,s=i.dialogType,o=i.showTenantHistory,l=i.selectedTenant,d=i.paymentArray;return Object(ne.jsxs)("div",{className:a.root,children:[Object(ne.jsx)(x.a,{}),Object(ne.jsx)(ce,{authed:n}),Object(ne.jsxs)("main",{className:a.content,children:[Object(ne.jsx)("div",{className:a.appBarSpacer}),Object(ne.jsxs)(y.a,{maxWidth:"lg",className:a.container,children:[Object(ne.jsxs)(C.a,{container:!0,spacing:3,children:[Object(ne.jsx)(C.a,{item:!0,xs:12,md:12,lg:12,children:Object(ne.jsx)(A.a,{className:a.paper,children:Object(ne.jsxs)(C.a,{container:!0,spacing:3,children:[Object(ne.jsx)(C.a,{item:!0,xs:12,md:12,lg:12,children:Object(ne.jsxs)("div",{className:a.titleWithBtn,children:[Object(ne.jsx)(v.a,{variant:"h6",children:"Current Tenants:"}),Object(ne.jsx)(_.a,{variant:"outlined",color:"secondary",className:a.button,endIcon:Object(ne.jsx)(S.a,{}),size:"small",onClick:function(){return e.handleDialogOpen("tenant")},children:"Add"})]})}),Object(ne.jsx)(C.a,{item:!0,xs:12,md:12,lg:12,children:r&&r.map((function(t){return Object(ne.jsx)(D.a,{icon:Object(ne.jsx)(I.a,{}),label:t.name,clickable:!0,color:"primary",className:l.id===t.id?a.nameChipSelected:a.nameChip,variant:"outlined",onClick:function(){return e.showTenant(t.id)}},t.id)}))})]})})}),Object(ne.jsx)(C.a,{item:!0,xs:12,md:12,lg:12,children:o?Object(ne.jsx)(rt,{selectedTenant:l,paymentArray:d}):Object(ne.jsx)(ne.Fragment,{})})]}),Object(ne.jsx)(P.a,{color:"secondary","aria-label":"add",className:a.fabButton,onClick:function(){return e.handleDialogOpen("payment")},children:Object(ne.jsx)(S.a,{})}),Object(ne.jsx)(f.a,{pt:4,children:Object(ne.jsx)(it,{})}),c?Object(ne.jsx)(Se,{openDialog:c,handleDialogClose:this.handleDialogClose,title:"payment"===s?"Add Payment":"Add Tenant",dialogType:s}):Object(ne.jsx)(ne.Fragment,{})]})]})]})}}]),a}(n.Component),st=Object(O.a)((function(e){return{root:{display:"flex"},contentCenter:{justifyContent:"center",textAlign:"center"},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(4),display:"flex",overflow:"auto",flexDirection:"column"},button:{margin:e.spacing(0,1)},fixedHeight:{height:140},fabButton:{position:"absolute",zIndex:1,right:20,bottom:20},titleWithBtn:{marginBottom:e.spacing(2),display:"flex",justifyContent:"space-between"},nameChip:{margin:e.spacing(1),border:"1px solid #aeb7e6"},nameChipSelected:{margin:e.spacing(1),border:"1px solid #3f51b5"}}}),{withTheme:!0})(Object(R.d)(Object(E.b)((function(e){return{tenants:e.firestore.ordered.tenants}})),Object(k.firestoreConnect)([{collection:"tenants"}]))(ct)),ot=a(302),lt=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={open:!1,openDialog:!1,dialogType:"",selectedTenant:{},showTenantHistory:!1,paymentArray:[]},e.responseGoogle=function(e){try{var t=e.profileObj.googleId,a=e.tokenObj.expires_at;document.cookie="userid="+t+";expires="+new Date(a).toUTCString()+";path=/",window.location.pathname="/dashboard"}catch(n){console.error(n)}},e.logout=function(e){console.log("logout",e)},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(ne.jsxs)(y.a,{component:"main",maxWidth:"xs",className:e.container,children:[Object(ne.jsx)(x.a,{}),Object(ne.jsxs)(A.a,{className:e.paper,children:[Object(ne.jsx)(f.a,{children:Object(ne.jsx)("img",{src:"/tree.svg",className:e.image})}),Object(ne.jsxs)(f.a,{className:e.header,children:[Object(ne.jsx)(v.a,{variant:"h6",children:"RentKhata"}),Object(ne.jsx)(v.a,{variant:"subtitle2",children:"Your rent management application"})]}),Object(ne.jsx)(f.a,{className:e.button,children:Object(ne.jsx)(ot.GoogleLogin,{clientId:"7001392389-o4koed2ng3b9c1odq1sk78ep3om7bvu0.apps.googleusercontent.com",className:e.googleButton,buttonText:"Login with Google",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:"single_host_origin"})}),Object(ne.jsx)(f.a,{className:e.greentext,children:Object(ne.jsx)(v.a,{variant:"subtitle2",children:"Save paper, save trees."})})]})]})}}]),a}(n.Component),dt=Object(O.a)((function(e){return{root:{display:"flex"},button:{marginTop:e.spacing(4)},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{marginTop:e.spacing(8),padding:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"center"},header:{justifyContent:"center",textAlign:"center",margin:"0 auto"},image:{height:150,width:150},googleButton:{backgroundColor:"#86c232 !important",color:"#ffffff !important"},greentext:{color:"#86c232",marginTop:e.spacing(4)}}}),{withTheme:!0})(lt),jt={palette:{type:"light",primary:{main:"#222629",mainSecondary:"#474b4f"},secondary:{main:"#86c232"}},typography:{color:"#000000"}};function bt(e){var t=e.component,a=e.authed,n=e.userid,r=Object(o.a)(e,["component","authed","userid"]);return Object(ne.jsx)(l.b,Object(s.a)(Object(s.a)({},r),{},{render:function(e){return!0===a?Object(ne.jsx)(t,Object(s.a)(Object(s.a)({},e),{},{authed:a,userid:n})):Object(ne.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var ht=function(){var e=Object(j.a)(jt),t=ae.a.get("userid"),a=void 0!==t;return Object(ne.jsx)(b.a,{theme:e,children:Object(ne.jsx)(d.a,{children:Object(ne.jsxs)(l.d,{children:[Object(ne.jsx)(l.b,{exact:!0,path:"/",render:function(e){return Object(ne.jsx)(l.a,{to:"/login"})}}),Object(ne.jsx)(l.b,{exact:!0,path:"/login",render:function(){return Object(ne.jsx)(dt,{})}}),Object(ne.jsx)(bt,{exact:!0,path:"/dashboard",authed:a,userid:t,component:st})]})})})},ut=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,613)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))},mt={payment:[]},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PAYMENT":return console.log("Payment added",t.payment),e;case"ADD_PAYMENT_ERROR":return console.log("Error while adding Payment..",t.err),e;default:return e}},gt={tenant:[{name:"",address:"",adhaarNo:"",fromDate:"",tenure:"",toDate:"",rentAmount:"",chargePerUnit:"",startingUnit:"",advancedAmount:""}]},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TENANT":return console.log("TENANT ADDED",t.tenant),e;case"ADD_TENANT_ERROR":return console.log("Error while adding Tenant..",t.err),e;default:return e}},xt=a(117),ft=Object(R.c)({payment:pt,tenants:Ot,firestore:xt.firestoreReducer,firebase:k.firebaseReducer}),vt=a(304),yt=a(156),Ct=(a(527),a(524),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_APP_ID:"1:282730905034:web:41789faf83d0f2dc91a333",REACT_APP_FB_API_KEY:"AIzaSyC6aVWeWVoboGwVlPZktTFg_THdbhcZEOk",REACT_APP_FB_AUTH_DOMAIN:"rentkhata-b113e.firebaseapp.com",REACT_APP_FB_PROJECT_ID:"rentkhata-b113e",REACT_APP_MESSAGING_SENDER_ID:"282730905034",REACT_APP_NAME:"RentKhata",REACT_APP_STORAGE_BUCKET:"rentkhata-b113e.appspot.com"})),At=Ct.REACT_APP_FB_API_KEY,Nt=Ct.REACT_APP_FB_AUTH_DOMAIN,Pt=Ct.REACT_APP_FB_PROJECT_ID,Tt=Ct.REACT_APP_STORAGE_BUCKET,St=Ct.REACT_APP_MESSAGING_SENDER_ID,Dt=Ct.REACT_APP_APP_ID,wt={apiKey:"".concat(At),authDomain:"".concat(Nt),projectId:"".concat(Pt),storageBucket:"".concat(Tt),messagingSenderId:"".concat(St),appId:"".concat(Dt)};yt.a.initializeApp(wt),yt.a.firestore().settings({timestampsInSnapshots:!0});var It=yt.a,_t=Object(R.e)(ft,Object(R.d)(Object(R.a)(vt.a.withExtraArgument({getFirebase:k.getFirebase,getFirestore:xt.getFirestore})),Object(k.reactReduxFirebase)(It),Object(xt.reduxFirestore)(It)));c.a.render(Object(ne.jsx)(E.a,{store:_t,children:Object(ne.jsx)(ht,{})}),document.getElementById("root")),ut()}},[[526,1,2]]]);
//# sourceMappingURL=main.e967c1a8.chunk.js.map